import liqui_planner from"../liqui-planner.min.js";export default class Eintrag{constructor(t,e,n,i){this._titel=t,this._betrag=e,this._typ=n,this._datum=i,this._timestamp=Date.now(),this._html=this._html_eintrag_generieren()}titel(){return this._titel}betrag(){return this._betrag}typ(){return this._typ}datum(){return this._datum}timestamp(){return this._timestamp}html(){return this._html}_html_eintrag_generieren(t){let e=document.createElement("li");"einnahme"===this._typ?e.setAttribute("class","einnahme"):e.setAttribute("class","ausgabe"),e.setAttribute("data-timestamp",this._timestamp);let n=document.createElement("span");n.setAttribute("class","datum"),n.textContent=this._datum.toLocaleDateString("de-DE",{year:"numeric",month:"2-digit",day:"2-digit"}),e.insertAdjacentElement("afterbegin",n);let i=document.createElement("span");i.setAttribute("class","titel"),i.textContent=this._titel,n.insertAdjacentElement("afterend",i);let r=document.createElement("span");r.setAttribute("class","betrag"),r.textContent=`${(this._betrag/100).toFixed(2).replace(/\./,",")} â‚¬`,i.insertAdjacentElement("afterend",r);let a=document.createElement("button");a.setAttribute("class","entfernen-button"),r.insertAdjacentElement("afterend",a);let s=document.createElement("i");return s.setAttribute("class","fas fa-trash"),a.insertAdjacentElement("afterbegin",s),this._eintrag_entfernen_event_hinzufuegen(e),e}_eintrag_entfernen_event_hinzufuegen(t){t.querySelector(".entfernen-button").addEventListener("click",t=>{let e=t.target.parentElement.getAttribute("data-timestamp");liqui_planner.eintrag_entfernen(e)})}}